import{a as g}from"./index-B9ygI19o.js";function d(t){return encodeURIComponent(t)}function h(t){return decodeURIComponent(t)}function A(t){return d(t===Object(t)?JSON.stringify(t):""+t)}function k(t){if(t==="")return t;t.indexOf('"')===0&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t=h(t.replace(/\+/g," "));try{const e=JSON.parse(t);(e===Object(e)||Array.isArray(e)===!0)&&(t=e)}catch{}return t}function l(t){const e=new Date;return e.setMilliseconds(e.getMilliseconds()+t),e.toUTCString()}function y(t){let e=0;const i=t.match(/(\d+)d/),o=t.match(/(\d+)h/),s=t.match(/(\d+)m/),n=t.match(/(\d+)s/);return i&&(e+=i[1]*864e5),o&&(e+=o[1]*36e5),s&&(e+=s[1]*6e4),n&&(e+=n[1]*1e3),e===0?t:l(e)}function f(t,e,i={},o){let s,n;i.expires!==void 0&&(Object.prototype.toString.call(i.expires)==="[object Date]"?s=i.expires.toUTCString():typeof i.expires=="string"?s=y(i.expires):(n=parseFloat(i.expires),s=isNaN(n)===!1?l(n*864e5):i.expires));const r=[`${d(t)}=${A(e)}`,s!==void 0?"; Expires="+s:"",i.path?"; Path="+i.path:"",i.domain?"; Domain="+i.domain:"",i.sameSite?"; SameSite="+i.sameSite:"",i.httpOnly?"; HttpOnly":"",i.secure?"; Secure":"",i.other?"; "+i.other:""].join("");document.cookie=r}function p(t,e){const i=document,o=i.cookie?i.cookie.split("; "):[],s=o.length;let n=t?null:{},c=0,r,a,u;for(;c<s;c++)if(r=o[c].split("="),a=h(r.shift()),u=r.join("="),!t)n[a]=u;else if(t===a){n=k(u);break}return n}function S(t,e,i){f(t,"",{expires:-1,...e})}function _(t,e){return p(t)!==null}function U(t){return{get:e=>p(e),set:(e,i,o)=>f(e,i,o),has:e=>_(e),remove:(e,i)=>S(e,i),getAll:()=>p(null)}}const m={install({$q:t,ssrContext:e}){t.cookies=this}};Object.assign(m,U());class b extends Error{constructor(e){super(e.message||`error name="${e.error}"`),this.data=e}}class x extends b{constructor(e){super(e),this.data=e}}class v extends x{constructor(e){super({error:"general.internalError",message:e?.message||"Internal error",statusCode:500})}}class w{_unAuthenticatedAxios;baseUrl="https://api.coingecko.com/api/v3/";async price(e){return(await this._getUnauthenticatedAxios().get("https://corsproxy.io/https://api.coingecko.com/api/v3/simple/price?"+e)).data}async rightTiker(e){return(await this._getUnauthenticatedAxios().get("https://api.coingecko.com/api/v3"+e)).data}async infoToken(e){return(await this._getUnauthenticatedAxios().get("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&symbols="+e)).data}async lineChart(e){return(await this._getUnauthenticatedAxios().get("https://api.coingecko.com/api/v3/coins"+e)).data}_getUnauthenticatedAxios(){return this._unAuthenticatedAxios===void 0&&(this._unAuthenticatedAxios=g.create({baseURL:this.baseUrl}),this._unAuthenticatedAxios.interceptors.request.use(e=>e),this._unAuthenticatedAxios.interceptors.response.use(e=>{if(e.data.cookies!==void 0)for(const i of e.data.cookies)m.set(i,e.data.cookies[i]);return e},e=>{throw e?.response?.data!==void 0?new x(e?.response?.data):new v(e)})),this._unAuthenticatedAxios}}const O=new w;function C(){return O}export{C as u};
